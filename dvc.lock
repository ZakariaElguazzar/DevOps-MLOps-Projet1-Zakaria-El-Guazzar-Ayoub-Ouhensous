schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: params.yaml
      hash: md5
      md5: 2b5425d045856c4cec1c417edc4fc088
      size: 162
    - path: src/prepare.py
      hash: md5
      md5: 0182aed61cb38cc68fec45758487c509
      size: 1568
    outs:
    - path: data/cifar100.npz
      hash: md5
      md5: 0d6c82cdd2bc08e5c3a928ed531280b3
      size: 2949601134
  train:
    cmd: python src/train.py
    deps:
    - path: data/cifar100.npz
      hash: md5
      md5: 0d6c82cdd2bc08e5c3a928ed531280b3
      size: 2949601134
    - path: params.yaml
      hash: md5
      md5: 2b5425d045856c4cec1c417edc4fc088
      size: 162
    - path: src/train.py
      hash: md5
      md5: 27e6856c924356076a344ae43958e133
      size: 1937
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 2a870f63799b9403044f8c1742b8ab88
      size: 69
    - path: models/model.h5
      hash: md5
      md5: 62736e4bd0ef4799e5a45ea89bbad8c9
      size: 19695992
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/cifar100.npz
      hash: md5
      md5: 0d6c82cdd2bc08e5c3a928ed531280b3
      size: 2949601134
    - path: models/model.h5
      hash: md5
      md5: 62736e4bd0ef4799e5a45ea89bbad8c9
      size: 19695992
    - path: src/evaluate.py
      hash: md5
      md5: 7d9d7fd72650de365809fb4bfea98656
      size: 1107
    outs:
    - path: metrics/evaluate_metrics.json
      hash: md5
      md5: 3b74ee074da936c7dbac43c900e835af
      size: 23
    - path: plots/confusion.png
      hash: md5
      md5: c29b334c696971f848b474b9d03279b2
      size: 16949
  prepare_data:
    cmd: python src/prepare_data.py
    deps:
    - path: data/cifar100.npz
      hash: md5
      md5: 0d6c82cdd2bc08e5c3a928ed531280b3
      size: 2949601134
    - path: data/meta
      hash: md5
      md5: 7973b15100ade9c7d40fb424638fde48
      size: 1473
    - path: params.yaml
      hash: md5
      md5: b5182999ad7fecf04b494fe42691f98d
      size: 134
    - path: src/prepare_data.py
      hash: md5
      md5: ddb3cb22db16d306c2f6b9c9fc7ff6b2
      size: 3724
    outs:
    - path: data/processed_data.npz
      hash: md5
      md5: 92848eea118fd3a3619777275d3f05a0
      size: 884881486
  train_MobileNetV2:
    cmd: python src/train_MobileNetV2.py
    deps:
    - path: data/processed_data.npz
      hash: md5
      md5: 92848eea118fd3a3619777275d3f05a0
      size: 884881486
    - path: params.yaml
      hash: md5
      md5: b5182999ad7fecf04b494fe42691f98d
      size: 134
    - path: src/train_MobileNetV2.py
      hash: md5
      md5: f35d8e2ac30753c3094a9896143c767a
      size: 5857
    outs:
    - path: metrics/train_MobileNetV2_bf_ft_metrics.json
      hash: md5
      md5: a6461f7cec00ccab225a6b481ecc395e
      size: 138
    - path: metrics/train_MobileNetV2_ft_metrics.json
      hash: md5
      md5: 488b92b9f517f46499b4d53e8cb4de88
      size: 140
    - path: models/MobileNetV2_bf_ft.keras
      hash: md5
      md5: 60370cd8da81f601a24b640f383a60ab
      size: 19166077
    - path: models/MobileNetV2_ft.keras
      hash: md5
      md5: ba028bc73960eebfc12c80b5ab4b8038
      size: 35970691
  evaluate_MobileNetV2:
    cmd: python src/evaluate_MobileNetV2.py
    deps:
    - path: data/processed_data.npz
      hash: md5
      md5: 92848eea118fd3a3619777275d3f05a0
      size: 884881486
    - path: models/MobileNetV2_ft.keras
      hash: md5
      md5: f70da87ff26decd4ad9d677c03943a1c
      size: 35970691
    - path: src/evaluate_MobileNetV2.py
      hash: md5
      md5: f429913bf43546808c9671dbf9d4f254
      size: 2562
    outs:
    - path: metrics/classification_report_MobileNetV2.json
      hash: md5
      md5: 8064f69f2516a3dbb1576992581d6f86
      size: 4730
    - path: metrics/evaluate_MobileNetV2_metrics.json
      hash: md5
      md5: f11ad3c2c22d78376d77b42afc2b125c
      size: 79
    - path: plots/confusion_MobileNetV2.png
      hash: md5
      md5: 80ab5e1d01a96ab1e05b858990e1bca0
      size: 92001
  train_CNN_simple:
    cmd: python src/train_CNN_simple.py
    deps:
    - path: data/processed_data.npz
      hash: md5
      md5: 92848eea118fd3a3619777275d3f05a0
      size: 884881486
    - path: params.yaml
      hash: md5
      md5: b5182999ad7fecf04b494fe42691f98d
      size: 134
    - path: src/train_CNN_simple.py
      hash: md5
      md5: d8d6893cfc6508faf73d00c23aab7800
      size: 4516
    outs:
    - path: metrics/train_CNN_simple_metrics.json
      hash: md5
      md5: d9ba98086b8eebdaa9b35e0ba2940552
      size: 139
    - path: models/CNN_simple.keras
      hash: md5
      md5: e79d6bd8bfdfa9db983e1a94c1cdbfa0
      size: 5642842
  evaluate_CNN_Simple:
    cmd: python src/evaluate_CNN_Simple.py
    deps:
    - path: data/processed_data.npz
      hash: md5
      md5: 92848eea118fd3a3619777275d3f05a0
      size: 884881486
    - path: models/CNN_simple.keras
      hash: md5
      md5: 14de35fa3cb451fd123ff05dd69b0def
      size: 5642842
    - path: src/evaluate_CNN_Simple.py
      hash: md5
      md5: 74668cad382badb67daad19f3f03e38d
      size: 2552
    outs:
    - path: metrics/classification_report_CNN_simple.json
      hash: md5
      md5: 7e106b914a662460275625cae1a04e73
      size: 4281
    - path: metrics/evaluate_CNN_simple_metrics.json
      hash: md5
      md5: 47abc62a434da418b418098585baa071
      size: 80
    - path: plots/confusion_CNN_simple.png
      hash: md5
      md5: 1f5be909700b6ad0d81533aba9738424
      size: 94642
